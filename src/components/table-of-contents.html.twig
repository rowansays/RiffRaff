{% if packages|default([]) is not empty %}
  <h3 id="packages">Packages <a href="#packages" class="headerlink"></a></h3>
  <dl class="Toc">
    {% for package in packages %}
      <dt class="Toc__entry -package">{{ package|route('class:short') }}</dt>
    {% endfor %}
  </dl>
{% endif %}


{% if namespaces|default([]) is not empty %}
  <h3 id="namespaces">Namespaces <a href="#namespaces" class="headerlink"></a></h3>
  <dl class="Toc">
    {% for namespace in namespaces %}
      <dt class="Toc__entry -namespace">{{ namespace|route('class:short') }}</dt>
    {% endfor %}
  </dl>
{% endif %}


{% if node.interfaces is not empty %}
  <h3 id="interfaces">Interfaces <a href="#interfaces" class="headerlink"></a></h3>
  <dl class="Toc">
    {% for interface in node.interfaces %}
      <dt class="Toc__entry -interface">{{ interface|route('class:short') }}</dt>
      <dd>{{ interface.summary }}</dd>
    {% endfor %}
  </dl>
{% endif %}


{% if node.classes is not empty %}
  <h3 id="classes">Classes <a href="#classes" class="headerlink"></a></h3>
  <dl class="Toc">
    {% for class in node.classes %}
      <dt class="Toc__entry -class">{{ class|route('class:short') }}</dt>
      <dd>{{ class.summary }}</dd>
    {% endfor %}
  </dl>
{% endif %}


{% if node.traits is not empty %}
  <h3 id="traits">Traits <a href="#traits" class="headerlink"></a></h3>
  <dl class="Toc">
    {% for trait in node.traits %}
      <dt class="Toc__entry -trait">{{ trait|route('class:short') }}</dt>
      <dd>{{ trait.summary }}</dd>
    {% endfor %}
  </dl>
{% endif %}

{% set constants = constants(node) %}
{% set properties = properties(node) %}
{% set methods = methods(node) %}

{% if constants is not empty or node.functions is not empty or methods is not empty or properties is not empty %}
  <h3 id="toc">Table of Contents <a href="#toc" class="headerlink"></a></h3>

  <dl class="Toc">
    {% for constant in constants(node)|sortByVisibility %}
      {{ include('components/table-of-contents-entry.html.twig', {'type': 'constant', 'node': constant}) }}
    {% endfor %}

    {% for property in properties(node)|sortByVisibility %}
      {{ include('components/table-of-contents-entry.html.twig', {'type': 'property', 'node': property}) }}
    {% endfor %}

    {% for method in methods(node)|sortByVisibility %}
      {{ include('components/table-of-contents-entry.html.twig', {'type': 'method', 'node': method}) }}
    {% endfor %}

    {% for function in node.functions|default([]) %}
      {{ include('components/table-of-contents-entry.html.twig', {'type': 'function', 'node': function}) }}
    {% endfor %}
  </dl>
{% endif %}
